import java.util.*;
import java.io.*;
public class WP11 {
	private static Map<String, String> RNATable = new HashMap<String, String>();
	private static String RNATablePathway; //E:/CSC142_143/DataFiles/RNATable.txt
	private static String RNAStrandPathway; //E:/CSC142_143/DataFiles/RNAString.txt
	private static String RNAOutPathway; //E:/CSC142_143/DataFiles/RNAOut.txt
	private static String strand = "";
	private static String result = "";

	public static void main(String[] args) throws FileNotFoundException {
		Scanner fileScanner = new Scanner(System.in);
		System.out.println("This program will use a table of RNA codons to search through an RNA strand and decode the Protien strand within.");
		inputs(fileScanner);
		process(fileScanner);
		System.out.println("There should now be a file with the protien encoded within the RNA strand at: "+getRNAOutPathway());
	}

	private static void process(Scanner fileScanner) {
		PrintStream outFile;
		try {
			fileScanner = new Scanner(new File (RNATablePathway));
			outFile = new PrintStream(new File (RNAOutPathway));
			while(fileScanner.hasNext()){
				RNATable.put(fileScanner.next(),fileScanner.next());
			}
			fileScanner = new Scanner(new File(RNAStrandPathway));
			strand = fileScanner.next();
			fileScanner.close();
			System.out.print("Loading");
			for(int i = 0; i<strand.length(); i+=3){
				System.out.print(".");
				String section = strand.substring(i, i+3);
				if(section.equals("UGA")||section.equals("UAA")||section.equals("UAG")){
					System.out.println();
					System.out.println("complete.");
				}
				else{
					result = result + RNATable.get(section);
				}
			}
			outFile.println(result);

		} catch (FileNotFoundException e) {
			System.out.println("File not found! Please check pathway and try again.");
		}
		
	}

	private static void inputs(Scanner fileScanner) {
		System.out.println("You will now need to enter in the correct pathway to the files containing the RNA table, the RNA strand and to the new file created to store the output Protien strand.");
		System.out.println("Example pathway: C:/CSC142_143/DataFiles/RNATable.txt");
		System.out.print("Please enter file pathway for the RNA Table: ");
		setRNATablePathway(fileScanner.next());
		System.out.print("Please enter file pathway for the RNA Strand: ");
		setRNAStrandPathway(fileScanner.next());
		System.out.print("Please enter file pathway for the decoded protien: ");
		setRNAOutPathway(fileScanner.next());
		fileScanner.close();
		
	}

	public static String getRNAOutPathway() {
		return RNAOutPathway;
	}

	public static void setRNAOutPathway(String rNAOutPathway) {
		RNAOutPathway = rNAOutPathway;
	}

	public static String getRNATablePathway() {
		return RNATablePathway;
	}

	public static void setRNATablePathway(String rNATablePathway) {
		RNATablePathway = rNATablePathway;
	}

	public static String getRNAStrandPathway() {
		return RNAStrandPathway;
	}

	public static void setRNAStrandPathway(String rNAStrandPathway) {
		RNAStrandPathway = rNAStrandPathway;
	}
}
